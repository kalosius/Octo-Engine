<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Form Submission Success</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    .hide {
      display: none;
    }
    #confirmPayment {
      display: none; /* Initially hide the button */
    }
  </style>
</head>
<body class="bg-gray-100 min-h-screen flex items-center justify-center">
  <div class="bg-white shadow-lg rounded-lg p-8 max-w-lg text-center">

    <!-- âœ… Success Message -->
    <div class="hide" id="successMessage">
      <div class="flex justify-center mb-6">
        <svg xmlns="http://www.w3.org/2000/svg" width="80" height="80" fill="green" class="mx-auto" viewBox="0 0 16 16">
          <path d="M8 0a8 8 0 1 1 0 16A8 8 0 0 1 8 0zm3.354 5.646a.5.5 0 0 0-.708-.708L7 9.293 5.354 7.646a.5.5 0 1 0-.708.708l2 2a.5.5 0 0 0 .708 0l4-4z"/>
        </svg>
      </div>
      <h1 class="text-2xl font-bold text-gray-800 mb-4">Payment Successful! <br> Form Submitted Successfully!</h1>
      <p class="text-lg text-gray-600 mb-6">Thank you for completing your registration. <br>We Shall Contact You Soon!</p>
      <a href="{% url 'home' %}" class="bg-[#b28449] text-white py-2 px-6 rounded hover:bg-[#9c6e3d] transition">
        Back to Home Page
      </a>
    </div>

    <!-- ðŸ§¾ Payment Section -->
    <div class="bg-gray-50 p-4 rounded-lg shadow-inner mb-6" id="paymentSection">
      <h2 class="text-lg font-semibold text-gray-800 mb-2">Complete Your Registration</h2>
      <p class="text-sm text-gray-600 mb-4">
        A registration fee of <span class="font-bold">UGX 51,000</span> is required to complete your form registration. Make sure to use the student's name for the payment details.
      </p>
      <iframe 
        class="mx-auto border rounded mb-4" 
        width="300" 
        height="60" 
        src="https://store.pesapal.com/embed-code?pageUrl=https://store.pesapal.com/studentsregistrationform" 
        frameborder="0" 
        allowfullscreen 
        id="paymentIframe">
      </iframe>

      <!-- Mock Confirmation Button -->
      <button id="confirmPayment" class="bg-yellow-500 hover:bg-yellow-600 text-white font-bold py-2 px-4 rounded">
        I Have Completed Payment
      </button>
    </div>
  </div>

  <script>

    const paymentSection = document.getElementById('paymentSection');
    const successMessage = document.getElementById('successMessage');
    const confirmBtn = document.getElementById('confirmPayment');

   setTimeout(() => {
      confirmBtn.style.display = 'block'; // Change display to block after 15 seconds
    }, 120000); // 15000ms = 15 seconds
 

    confirmBtn.addEventListener('click', () => {
      paymentSection.style.display = 'none';
      successMessage.style.display = 'block';
    });
  </script>
</body>
</html>
